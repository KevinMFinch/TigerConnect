<!DOCTYPE html>

<html>

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-118872746-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-118872746-1');
  </script>

  <!-- BEGIN -->
  <title>TigerConnect</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Bootstrap -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js"></script>
  <!-- Font Awesome -->
  <script defer src="https://use.fontawesome.com/releases/v5.0.10/js/all.js" integrity="sha384-slN8GvtUJGnv6ca26v8EzVaR9DC58QEwsIk9q1QXdCU8Yu8ck/tL/5szYlBbqmS+" crossorigin="anonymous"></script>
  <!-- Moment.js -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.18.1/moment.min.js"></script>

  <!-- stylesheets -->
  <link rel="stylesheet" href="/stylesheets/chat.css">
  <link rel="stylesheet" href="/resources/demos/style.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto">
  <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
</head>

<body class="chat">
  <!-- top navbar -->
  <input id="netid" type="hidden" value={{netid}}>
  <div class="container-fluid side-and-main h-100 p-0">
    <nav class="navbar navbar-expand-md navbar-light navbar-fixed-top">
      <!-- back button -->
      <button onclick="goBack()" style="background-color: inherit; color: #162129; font-size: 2.5rem;"><i class="fas fa-arrow-alt-circle-left back-button"></i></button>
      <!-- top right -->
      <ul class="navbar-nav ml-auto">
        <li class="nav-item d-none d-sm-block">
          <span class="nav-link">Hey {{netid}}!</span>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/api/auth/logout"><i class="fas fa-power-off"></i> Logout</a>
        </li>
      </ul>
    </nav>
    <!-- for back button -->
    <script>
      function goBack() {
          window.history.back();
      }
    </script>

    <!-- left sidebar -->
    <div class="col-3 m-0 chat_sidebar">
      <h3 class="row col-12 mt-3">People</h3>
      <div class="row mb-auto people col-12" id="users"></div>
    </div>

    <!-- messages -->
    <div class="col-9 row chat__main m-0">
        <ol id="messages" class="chat__messages"></ol>
        <div class="row chat__footer">
          <form id='message-form'>
            <input name="message" type="text" placeholder="Message" autofocus autocomplete="off" maxlength="280"/>
            <button>Send</button>
          </form>
        </div>
    </div>

    <script id="message-template" type="text/x-handlebars-template">
      <li class="message speech-bubble-current">
        <div class="message__title">
          <h4>{{from}}</h4>
          <span>{{createdAt}}</span>
        </div>
        <div class="message__body">
          <p>{{text}}</p>
        </div>
      </li>
    </script>
  </div>

  <!-- scripts -->
  <script src="/socket.io/socket.io.js"></script>
  <script src="/js/libs/moment.js"></script>
  <script src="/js/libs/handlebars-v4.0.11.js"></script>
  <script src="/js/libs/deparam.js"></script>
  <script src="/js/chat.js"></script>
</body>

</html>
